<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lostfusion</title>
  <link rel="stylesheet" href="css/style.css" />
  <script type="module" src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm"></script>
    
  <script type="module" src="js/home.js" defer></script>
  <script type="module" src="js/report.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  
  <!-- Font Awesome for social icons -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0&icon_names=person" />
</head>

<body>
  <video class="video-bg" autoplay muted loop>
    <source src="assets/Untitled.mp4" type="video/mp4">
    Your browser does not support HTML5 video.
  </video>
  <div class="video-overlay"></div>
  <header>
    <nav class="navbar">
      <div class="logo"><span></span> <strong>Lostfusion</strong></div>
      <ul class="nav-links">
        <li><a  href="loggedin.html">Home</a></li>
        <li><a class="active" href="#">Report Item</a></li>
        <li><a href="lostitems.html">View Listings</a></li>
      </ul>
      <div class="auth-toggle">
        <div class="user-container">
        <button class="user-dropdown-btn" onclick="toggleUserDropdown()">
          <i class="fas fa-user"></i>
</button>

        <div class="user-dropdown" id="userDropdown">
          <a href="dashboard.html"><i class="fas fa-user"></i>
    <span class="label">Profile</span></a>
          <a class="logout" href="#" id="logout"><i class="fas fa-sign-out-alt"></i>
    <span class="label">Logout</span></a>
      </div>
        </div>
        </div>
      </div>
    </nav>
  </header>

  <main class="form-container">
    <form class="report-form" id="reportForm">
      <h2>Report Item</h2>

      <div class="input-group">
        <input type="text" id="title" placeholder="Item Name" required />
        <select id="category" required>
          <option disabled selected>Category</option>
          <option>Electronics</option>
          <option>Clothing</option>
          <option>Documents</option>
          <option>Accessories</option>
          <option>Other</option>
        </select>
      </div>

      <textarea id="description" placeholder="Give the description of the product Found/Lost......" required></textarea>

      <div class="input-group">
        <input id="time" type="datetime-local" required />
        <input id="location" type="text" placeholder="Location (Where Lost/Found)" required />
      </div>

      <div class="input-group">
        <select id="status" required>
          <option disabled selected>-- Select Status --</option>
          <option>Lost</option>
          <option>Found</option>
        </select>
        <input id="contact" type="tel" placeholder="Phone Number"   inputmode="numeric" maxlength="10" minlength="10" required />
        <span class="error" id="error-msg">NOTE: Must be 10 digits & start with 6, 7, 8, or 9</span>
        <input id="collegeid" type="text" placeholder="College ID" pattern="^\d{2}[A-Za-z]{2}\d{3}$" required />
      </div>

      <input type="file" id="imageFile" accept="image/*" >

      <button class="report-btn" id="reportBtn" type="submit">Report Item</button>
    </form>
  </main>
  <footer class="site-footer">
    <div class="footer-container">
      <p>&copy; 2025 Lostfusion. All rights reserved.</p>
      <ul class="footer-links">
        <li><a href="about.html">About</a></li>
        <li><a href="contact.html">Contact</a></li>
        <li><a href="privacy.html">Privacy Policy</a></li>
      </ul>
    </div>
  </footer>
  <script>
    function toggleUserDropdown() {
      const dropdown = document.getElementById("userDropdown");
      dropdown.style.display = dropdown.style.display === "block" ? "none" : "block";
    }

    // Close dropdown when clicking outside
    document.addEventListener("click", function (event) {
      const dropdown = document.getElementById("userDropdown");
      const button = document.querySelector(".user-dropdown-btn");
      if (!button.contains(event.target) && !dropdown.contains(event.target)) {
        dropdown.style.display = "none";
      }
    });

    const phoneInput = document.getElementById("contact");
    const errorMsg = document.getElementById("error-msg");

    phoneInput.addEventListener("input", function () {
      // Remove all non-digits
      this.value = this.value.replace(/\D/g, "");

      // Validate Indian mobile pattern
      const indianPattern = /^[6-9]\d{9}$/;
      if (this.value.length !== 10 || !indianPattern.test(this.value)) {
        errorMsg.style.display = "block";
      } else {
        errorMsg.style.display = "none";
      }
    });

  </script>
  
</body>
</html>